'use strict';const sliderItems=document.querySelectorAll(".slider-item"),sliderBtns=document.querySelectorAll(".slider-button"),sliderBtnsContainer=document.querySelector(".slider-buttons-container"),featureItems=document.querySelectorAll(".feature-item"),featureBtns=document.querySelectorAll(".feature-button"),featureBtnsContainer=document.querySelector(".features-buttons-list"),writeUsModal=document.querySelector(".modal-write-us"),writeUsBtn=document.querySelector(".write-us-button"),mapModal=document.querySelector(".modal-map"),mapBtn=document.querySelector(".map-button");let modalCloseBtn;const setListenerForSlider=function(a,b,c){c.addEventListener("click",function(c){for(let d=0;d<b.length;d++)if(c.target===b[d]){c.preventDefault();for(let c=0;c<b.length;c++)b[c].classList.remove("button-current"),a[c].classList.remove("item-current");b[d].classList.add("button-current"),a[d].classList.add("item-current")}})},setListenerForModal=function(a,b){b.addEventListener("click",function(b){b.preventDefault(),a.classList.add("modal-current"),modalCloseBtn=a.querySelector(".modal-close"),modalCloseBtn.addEventListener("click",function(b){b.preventDefault(),a.classList.remove("modal-current"),a.classList.remove("modal-error")}),window.addEventListener("keydown",function(b){"Escape"===b.key&&(b.preventDefault(),a.classList.remove("modal-current"),a.classList.remove("modal-error"))}),a.classList.contains("modal-write-us")?setHandlerForForm(a):modalCloseBtn.focus()})},setHandlerForForm=function(a){const b=a.querySelector(".write-us-form"),c=a.querySelector(".write-us-name"),d=a.querySelector(".write-us-email"),e=a.querySelector(".write-us-textarea");let f,g,h=!0;try{f=localStorage.getItem("name"),g=localStorage.getItem("email")}catch(a){h=!1}f&&g?(c.value=f,d.value=g,e.focus()):c.focus(),b.addEventListener("submit",function(b){c.value&&d.value&&e.value?h&&(localStorage.setItem("name",c.value),localStorage.setItem("email",d.value)):(b.preventDefault(),a.classList.remove("modal-error"),void a.offsetWidth,a.classList.add("modal-error"))})};setListenerForSlider(sliderItems,sliderBtns,sliderBtnsContainer),setListenerForSlider(featureItems,featureBtns,featureBtnsContainer),setListenerForModal(writeUsModal,writeUsBtn),setListenerForModal(mapModal,mapBtn);
